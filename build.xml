<?xml version="1.0" encoding="UTF-8"?>
<project basedir="." default="validate" name="buildLIM">
    
    <property name="lib.dir" value="${basedir}/lib"/>
    <property name="rng" value="${basedir}/schema/lim.rng"/>
    
    <fileset id="dataXml" dir="${basedir}/data">
        <include name="**/**.xml"/>
    </fileset>
    
    <resourcecount property="dataXmlCount" refid="dataXml"/>

    
    <!--First thing: validate-->
    
    <target name="validate">
        <echo>Validating ${dataXmlCount} XML files</echo>
        <apply executable="java" parallel="true" failonerror="true">
            <arg line="-jar ${lib.dir}/jing.jar"/>
            <arg value="${rng}"/>
            <fileset refid="dataXml"/>
        </apply>
    </target>
    
    <target name="documentation">
        <ant antfile="code/documentation/build.xml" inheritall="false"/>
    </target>
    
    
    
</project>
